@use '../variables' as *;
@use '../mixins' as *;

// ======================================
// FORM CONTAINER & STRUCTURE
// ======================================

.form-container {
  background-color: white;
  border-radius: $border-radius-lg;
}

.form-header {
  margin-bottom: $spacing-6;
}

.form-title {
  font-size: $font-size-xl;
  font-weight: $font-weight-semibold;
  color: $gray-900;
  line-height: $line-height-tight;
  margin-bottom: $spacing-2;
  
  @include media-md {
    font-size: $font-size-2xl;
  }
}

.form-description {
  font-size: $font-size-sm;
  color: $gray-500;
  line-height: $line-height-normal;
}

.form {
  display: flex;
  flex-direction: column;
  gap: $spacing-6;
}

.form-fields {
  display: grid;
  grid-template-columns: 1fr;
  gap: $spacing-6;
  
  @include media-sm {
    grid-template-columns: repeat(2, 1fr);
  }
}

.form-field {
  display: flex;
  flex-direction: column;
  
  &--full {
    @include media-sm {
      grid-column: span 2;
    }
  }
}

.form-label {
  @include form-label;
  
  &__required {
    color: $red-500;
    margin-left: $spacing-1;
  }
}

// ======================================
// FORM INPUTS
// ======================================

.form-input {
  @include form-input;
  
  &--error {
    border-color: $form-element-border-color-error;
    background-color: $red-50;
    color: $red-900;
    
    &::placeholder {
      color: $red-400;
    }
    
    &:focus {
      border-color: $red-500;
      box-shadow: $shadow-focus-error;
    }
  }
  
  &--disabled {
    background-color: $form-element-bg-disabled;
    color: $form-element-text-color-disabled;
    cursor: not-allowed;
  }
}

// ======================================
// FORM MESSAGES
// ======================================

.form-help {
  @include form-help;
}

.form-error {
  @include form-error;
}

// ======================================
// FORM ACTIONS
// ======================================

.form-actions {
  display: flex;
  justify-content: flex-end;
  gap: $spacing-3;
  padding-top: $spacing-4;
  border-top: $border-width-thin solid $gray-200;
}

// ======================================
// BUTTON LOADING STATES
// ======================================

.btn-loading {
  display: flex;
  align-items: center;
  gap: $spacing-2;
}

.btn-spinner {
  border: 2px solid currentColor;
  border-top-color: transparent;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  
  &__track {
    opacity: 0.25;
  }
  
  &__path {
    opacity: 0.75;
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

// ======================================
// SELECT FIELD ENHANCEMENTS
// ======================================

.form-select-wrapper {
  position: relative;
  
  .form-select-loading {
    position: absolute;
    right: 2rem;
    top: 50%;
    transform: translateY(-50%);
    
    .spinner {
      width: 1rem;
      height: 1rem;
      animation: spin 1s linear infinite;
      color: $gray-400;
    }
  }
} 